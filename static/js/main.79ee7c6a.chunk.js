(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{10:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t.n(c),s=t(5),o=t.n(s),r=(t(10),t(2));t(4);function i(e,n){return fetch("https://countries.trevorblades.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:n})}).then((function(e){return e.json()}))}var u=t(0),l=function(e){var n=e.name,t=e.capital,a=e.languages,s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(c.useState)(e),t=Object(r.a)(n,2),a=t[0],s=t[1],o=Object(c.useCallback)((function(){return s((function(e){return!e}))}),[]);return[a,o]}(),o=Object(r.a)(s,2),i=o[0],l=o[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:l,className:"country",children:Object(u.jsx)("div",{children:n})}),i&&Object(u.jsxs)("div",{onClick:l,className:"countryInfo",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"Capital:"}),Object(u.jsx)("span",{children:t})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"Languages:"}),Object(u.jsx)("span",{children:a})]})]})]})},j=function(e){var n=e.countries,t=e.toggleIsCollapsed,a=Object(c.useContext)(O);return Object(u.jsx)(u.Fragment,{children:!a&&Object(u.jsxs)("div",{children:[n.map((function(e){var n=e.languages.reduce((function(e,n){return e.push(n.name),e}),[]).join(", ");n=n||"No languages";var t=e.capital||"No capital";return Object(u.jsx)(l,{name:e.name,isCollapsed:a,languages:n,capital:t},e.code)})),Object(u.jsx)("div",{className:"collapser",onClick:t,children:"Back to continents"})]})})};var d=function(e){var n=e.name,t=e.continentCode,a=e.toggleIsCollapsed,s=Object(c.useState)([]),o=Object(r.a)(s,2),l=o[0],d=o[1];Object(c.useEffect)((function(){(function(e){return i("\n     query getCountries($code: ID!) {\n         continent(code: $code) {\n           countries{\n             name\n             code\n             capital\n             languages {\n                code\n                name\n              }\n           }\n         }\n       }\n     ",{code:e}).then((function(e){return e.data.continent.countries}))})(t).then((function(e){return d(e)}))}),[t]);var b=Object(c.useState)(!1),g=Object(r.a)(b,2),p=g[0],f=g[1],h=Object(c.useContext)(O);return Object(c.useEffect)((function(){h&&f(!1)}),[h]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"continent",onClick:function(){a(!1),f(!p)},children:n}),p&&Object(u.jsx)(j,{toggleCountriesDisplay:f,toggleIsCollapsed:a,countries:l})]})},b=function(e){var n=e.toggleIsCollapsed,t=Object(c.useState)([]),a=Object(r.a)(t,2),s=a[0],o=a[1];return Object(c.useEffect)((function(){i("\n        query {\n            continents {\n            name\n            code\n            }\n        }\n    ").then((function(e){o(e.data.continents)}))}),[]),s.map((function(e){return Object(u.jsx)(d,{toggleIsCollapsed:n,continentCode:e.code,name:e.name},e.code)}))},O=a.a.createContext();var g=function(){var e=Object(c.useState)(!0),n=Object(r.a)(e,2),t=n[0],a=n[1];return Object(u.jsx)("div",{className:"wrapper",children:Object(u.jsx)(O.Provider,{value:t,children:Object(u.jsx)(b,{isCollapsed:t,toggleIsCollapsed:a})})})},p=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,13)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,s=n.getLCP,o=n.getTTFB;t(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root")),p()},4:function(e,n,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.79ee7c6a.chunk.js.map