(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{10:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t.n(c),s=t(5),i=t.n(s),o=(t(10),t(2));t(4);function r(e,n){return fetch("https://countries.trevorblades.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:n})}).then((function(e){return e.json()}))}var u=t(0),l=function(e){var n=e.name,t=e.capital,a=e.languages,s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(c.useState)(e),t=Object(o.a)(n,2),a=t[0],s=t[1],i=Object(c.useCallback)((function(){return s((function(e){return!e}))}),[]);return[a,i]}(),i=Object(o.a)(s,2),r=i[0],l=i[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:l,className:"country",children:Object(u.jsx)("div",{children:n})}),r&&Object(u.jsxs)("div",{onClick:l,className:"countryInfo",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"Capital:"}),Object(u.jsx)("span",{children:t})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"Languages:"}),Object(u.jsx)("span",{children:a})]})]})]})},j=function(e){var n=e.countries,t=Object(c.useContext)(O),a=t.isCollapsed,s=t.toggleIsCollapsed;return Object(u.jsx)(u.Fragment,{children:!a&&Object(u.jsxs)("div",{children:[n.map((function(e){var n=e.languages.reduce((function(e,n){return e.push(n.name),e}),[]).join(", ");n=n||"No languages";var t=e.capital||"No capital";return Object(u.jsx)(l,{name:e.name,isCollapsed:a,languages:n,capital:t},e.code)})),Object(u.jsx)("div",{className:"collapser",onClick:s,children:"Back to continents"})]})})};var d=function(e){var n=e.name,t=e.continentCode,a=Object(c.useState)([]),s=Object(o.a)(a,2),i=s[0],l=s[1],d=Object(c.useContext)(O),b=d.isCollapsed,p=d.toggleIsCollapsed;Object(c.useEffect)((function(){(function(e){return r("\n     query getCountries($code: ID!) {\n         continent(code: $code) {\n           countries{\n             name\n             code\n             capital\n             languages {\n                code\n                name\n              }\n           }\n         }\n       }\n     ",{code:e}).then((function(e){return e.data.continent.countries}))})(t).then((function(e){return l(e)}))}),[t]);var f=Object(c.useState)(!1),h=Object(o.a)(f,2),g=h[0],v=h[1];return Object(c.useEffect)((function(){b&&v(!1)}),[b]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"continent",onClick:function(){p(!1),v(!g)},children:n}),g&&Object(u.jsx)(j,{toggleCountriesDisplay:v,countries:i})]})},b=function(){var e=Object(c.useState)([]),n=Object(o.a)(e,2),t=n[0],a=n[1];return Object(c.useEffect)((function(){r("\n        query {\n            continents {\n            name\n            code\n            }\n        }\n    ").then((function(e){a(e.data.continents)}))}),[]),t.map((function(e){return Object(u.jsx)(d,{continentCode:e.code,name:e.name},e.code)}))},O=a.a.createContext();var p=function(){var e=Object(c.useState)(!0),n=Object(o.a)(e,2),t=n[0],a=n[1];return Object(u.jsx)("div",{className:"wrapper",children:Object(u.jsx)(O.Provider,{value:{isCollapsed:t,toggleIsCollapsed:a},children:Object(u.jsx)(b,{})})})},f=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,13)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,s=n.getLCP,i=n.getTTFB;t(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root")),f()},4:function(e,n,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.24d7e1b7.chunk.js.map